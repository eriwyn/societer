[gd_scene load_steps=7 format=2]

[ext_resource path="res://ui/ui.tscn" type="PackedScene" id=1]
[ext_resource path="res://world/default_env.tres" type="Environment" id=3]
[ext_resource path="res://world/World3d.gd" type="Script" id=4]
[ext_resource path="res://utils/camera/CamBase.tscn" type="PackedScene" id=5]

[sub_resource type="PlaneMesh" id=1]
size = Vector2( 2000, 2000 )

[sub_resource type="SpatialMaterial" id=2]
albedo_color = Color( 0.054902, 0.533333, 0.741176, 1 )

[node name="Game" type="Node"]

[node name="UI" parent="." instance=ExtResource( 1 )]

[node name="Map" parent="UI" index="0"]
scale = Vector2( 0.25, 0.25 )

[node name="Cursor" parent="UI/Map" index="0"]
scale = Vector2( 4, 4 )
z_index = 3

[node name="World3d" type="Spatial" parent="."]
script = ExtResource( 4 )

[node name="Water" type="MeshInstance" parent="World3d"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1000, 0, 1000 )
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="World3d"]
environment = ExtResource( 3 )

[node name="CamBase" parent="World3d" instance=ExtResource( 5 )]

[node name="Camera" parent="World3d/CamBase" index="0"]
transform = Transform( 1, 0, 0, 0, 0.659983, -0.75128, 0, 0.75128, 0.659983, 0, -1.90735e-06, 6.618 )
fov = 55.0
depth_multiplier = 9999.0
zoom_sensibility = 1.436

[node name="DirectionalLight" type="DirectionalLight" parent="World3d"]
transform = Transform( 0.971628, 0.168947, -0.16552, 0, 0.699825, 0.714314, 0.236516, -0.694047, 0.67997, 0, 1.41623, 14.8745 )
light_energy = 0.1
shadow_enabled = true

[connection signal="map_clicked" from="UI/Map" to="World3d/CamBase/Camera" method="_on_Map_map_clicked"]
[connection signal="camera_moved" from="World3d/CamBase/Camera" to="UI/Map/Cursor" method="_on_Camera_camera_moved"]

[editable path="UI"]
[editable path="UI/Map"]
[editable path="World3d/CamBase"]
